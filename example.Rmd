---
title: "EXAMPLE"
output: 
  flexdashboard::flex_dashboard:
    logo: img/tarponlogo.png
    social: menu
    source_code: "https://github.com/tbep-tech/equity-tool"
runtime: shiny
css: styles.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F, message = F, warning = F)

# libraries
library(flexdashboard)
library(shiny)
```

Overview
===========================================================

Column {data-width=700}
-----------------------------------------------------------------------

```{r}
tabsetPanel(
  id = "wizard",
  type = "hidden",
  tabPanel("LOCATION", 
           "Is the project associated with a specific location?",
           actionButton("LOCATION_Yes", "Yes"), 
           actionButton("LOCATION_No", "No")
  ),
  tabPanel("ARCHSITE", 
           "Is the project within 50 meters of an archaeological site mapped by the Florida Master Site?",
           actionButton("ARCHSITE_Yes", "Yes"), 
           actionButton("ARCHSITE_No", "No"), 
           actionButton("ARCHSITE_Unsure", "Unsure")
  ),
  tabPanel("ELIGIBLE", 
           "Is the site listed on or potentially eligible for the National Registry?",
           actionButton("ELIGIBLE_Yes", "Yes"), 
           actionButton("ELIGIBLE_No", "No")
  ),
  tabPanel("REMAINS", 
           "Does the site contain human remains?",
           actionButton("REMAINS_Yes", "Yes"), 
           actionButton("REMAINS_No", "No")
  ),
  tabPanel("MULTIPLE", 
           "Could the project be suitable for multiple locations?",
           actionButton("MULTIPLE_Yes", "Yes"), 
           actionButton("MULTIPLE_No", "No")
  ),
  tabPanel("PROX-MULTIPLE", 
           "Is one of those locations within 1 mile or directly upstream of an underserved community?",
           actionButton("MULTIPLE_Yes", "Yes"), 
           actionButton("MULTIPLE_No", "No")
  ),
  tabPanel("OUTCOME", 
           "Would outcomes be significantly reduced if placed near the underserved community?",
           actionButton("OUTCOME_Yes", "Yes"), 
           actionButton("OUTCOME_No", "No")
  ),
  tabPanel("ACCESS-LOCAL", 
           "Is it reasonable to believe underserved communities would have (at least) equal access to the project's benefits as other communities?",
           actionButton("ACCESS-LOCAL_Yes", "Yes"), 
           actionButton("ACCESS-LOCAL_No", "No")
  ),
  tabPanel("BURDEN", 
           "Could the project help mitigate an environmental burden flagged in the underserved community?",
           actionButton("BURDEN_Yes", "Yes"), 
           actionButton("BURDEN_No", "No")
  ),
  tabPanel("RECOGNITION", 
           "Do the project benefits align with reported values, needs, or priorities of the community?",
           actionButton("RECOGNITION_Yes", "Yes"), 
           actionButton("RECOGNITION_No", "No"), 
           actionButton("RECOGNITION_Unsure", "Unsure")
  ),
  tabPanel("WHY", 
           "Why not?",
           actionButton("WHY_Char", "Due to project characteristics"), 
           actionButton("WHY_Data", "Due to lack of data or information")
  ),
  tabPanel("IMPROVE", 
           "Could access be reasonably improved without significantly reducing project outcomes or increasing timelines?",
           actionButton("IMPROVE_Yes", "Yes"), 
           actionButton("IMPROVE_No", "No")
  ),
  tabPanel("PROX-SINGLE", 
           "Is the project located within 1 mile or directly upstream of an underserved community?",
           actionButton("PROX-SINGLE_Yes", "Yes"), 
           actionButton("PROX-SINGLE_No", "No")
  ),
  tabPanel("BENEFIT", 
           "Does the project still provide some benefit to underserved communities?",
           actionButton("BENEFIT_Yes", "Yes"), 
           actionButton("BENEFIT_No", "No")
  ),
  tabPanel("HOW", 
           "How?",
           actionButton("HOW_Title", "Includes students or teachers from Title 1 Schools"), 
           actionButton("HOW_Stake", "Includes stakeholders from underserved communities"), 
           actionButton("HOW_Know", "Increases knowledge of local equity issues"), 
           actionButton("HOW_Barrier", "Reduces some barrier or driver leading to inequity"), 
           actionButton("HOW_Else", "Something else"), 
           actionButton("HOW_Unsure", "Unsure")
  ),
  tabPanel("SCALE", 
           "Scale of project",
           actionButton("SCALE_Bay", "Entire bay"), 
           actionButton("SCALE_Segment", "Bay segment"), 
           actionButton("SCALE_Watershed", "Entire watershed"), 
           actionButton("SCALE_County", "County"), 
           actionButton("SCALE_Municip", "Municipality"), 
           actionButton("SCALE_Other", "Some other region")
  ),
  tabPanel("PROX-SHORE", 
           "Do underserved communities make up 40% or more of the land area within 1 mile of the shoreline?",
           actionButton("PROX-SHORE_Yes", "Yes"), 
           actionButton("PROX-SHORE_No", "No"), 
           actionButton("PROX-SHORE_Unsure", "Unsure")
  ),
  tabPanel("PROX-REGION", 
           "Do underserved communities make up 40% or more of the land area in this region?",
           actionButton("PROX-REGION_Yes", "Yes"), 
           actionButton("PROX-REGION_No", "No"), 
           actionButton("PROX-REGION_Unsure", "Unsure")
  ),
  tabPanel("ACCESS-REGION", 
           "Is it reasonable to believe underserved communities would have (at least) equal access to the project's benefits as other communities?",
           actionButton("ACCESS-REGION_Yes", "Yes"), 
           actionButton("ACCESS-REGION_No", "No")
  ),
  tabPanel("INCLUDE", 
           "INCLUDE: The project could be included in TBEP's contributions to the equity target.",
           actionButton("STARTOVER", "Start over")
  ),
  tabPanel("ADAPT", 
           "ADAPT: With some modification, the project could contribute to TBEP's equity target.",
           actionButton("STARTOVER", "Start over")
  ),
  tabPanel("JUSTIFY", 
           "JUSTIFY: The project likely won't contribute to TBEP's equity target. Report why it would be inappropriate or impossible for the project to contribute to the target.",
           actionButton("STARTOVER", "Start over")
  ),
  tabPanel("INVESTIGATE", 
           "INVESTIGATE: More data or evaluation is needed to determine if the project could contribute to TBEP's equity target.",
           actionButton("STARTOVER", "Start over")
  ),
  tabPanel("CONSULT", 
           "CONSULT: Consultation with relevant TBEP staff, experts, and/or stakeholders is recommended before continuing.",
           actionButton("STARTOVER", "Start over")
  ),
  tabPanel("RECONSIDER", 
           "RECONSIDER: The project may be inequitable or inappropriate, and therefore is not recommended for implementation.",
           actionButton("STARTOVER", "Start over")
  )
)

switch_page <- function(i) {
    updateTabsetPanel(inputId = "wizard", selected = i)
  }
  
# choices
observeEvent(input$LOCATION_Yes, switch_page("ARCHSITE"))
observeEvent(input$ARCHSITE_Yes, switch_page("ELIGIBLE"))
observeEvent(input$ELIGIBLE_Yes, switch_page("REMAINS"))
observeEvent(input$ELIGIBLE_No, switch_page("MULTIPLE"))
observeEvent(input$ARCHSITE_No, switch_page("MULTIPLE"))
observeEvent(input$MULTIPLE_Yes, switch_page("PROX-MULTIPLE"))
observeEvent(input$PROX-MULTIPLE_Yes, switch_page("OUTCOME"))
observeEvent(input$OUTCOME_No, switch_page("ACCESS-LOCAL"))
observeEvent(input$PROX-SINGLE_Yes, switch_page("ACCESS-LOCAL"))
observeEvent(input$ACCESS-LOCAL_Yes, switch_page("BURDEN"))
observeEvent(input$BURDEN_Yes, switch_page("RECOGNITION"))
observeEvent(input$WHY_Char, switch_page("RECOGNITION"))
observeEvent(input$BURDEN_No, switch_page("WHY"))
observeEvent(input$ACCESS-LOCAL_No, switch_page("IMPROVE"))
observeEvent(input$ACCESS-REGION_No, switch_page("IMPROVE"))
observeEvent(input$MULTIPLE_No, switch_page("PROX-SINGLE"))
observeEvent(input$PROX-SINGLE_No, switch_page("BENEFIT"))
observeEvent(input$BENEFIT_Yes, switch_page("HOW"))
observeEvent(input$LOCATION_No, switch_page("SCALE"))
observeEvent(input$SCALE_Bay, switch_page("PROX-SHORE"))
observeEvent(input$SCALE_Segment, switch_page("PROX-SHORE"))
observeEvent(input$SCALE_Watershed, switch_page("PROX-REGION"))
observeEvent(input$SCALE_County, switch_page("PROX-REGION"))
observeEvent(input$SCALE_Municipality, switch_page("PROX-REGION"))
observeEvent(input$SCALE_Other, switch_page("PROX-REGION"))
observeEvent(input$PROX-SHORE_No, switch_page("ACCESS-REGION"))
observeEvent(input$PROX-REGION_No, switch_page("ACCESS-REGION"))


observeEvent(input$PROX-SHORE_Yes, switch_page("INCLUDE"))
observeEvent(input$PROX-REGION_Yes, switch_page("INCLUDE"))
observeEvent(input$ACCESS-REGION_Yes, switch_page("INCLUDE"))
observeEvent(input$RECOGNITION_Yes, switch_page("INCLUDE"))
observeEvent(input$HOW_Title, switch_page("INCLUDE"))
observeEvent(input$HOW_Stake, switch_page("INCLUDE"))
observeEvent(input$HOW_Know, switch_page("INCLUDE"))
observeEvent(input$HOW_Barrier, switch_page("INCLUDE"))
observeEvent(input$IMPROVE_Yes, switch_page("ADAPT"))
observeEvent(input$RECOGNITION_No, switch_page("ADAPT"))
observeEvent(input$IMPROVE_No, switch_page("JUSTIFY"))
observeEvent(input$OUTCOME_Yes, switch_page("JUSTIFY"))
observeEvent(input$BENEFIT_No, switch_page("JUSTIFY"))
observeEvent(input$PROX-MULTIPLE_No, switch_page("JUSTIFY"))
observeEvent(input$PROX-REGION_Unsure, switch_page("INVESTIGATE"))
observeEvent(input$PROX-SHORE_Unsure, switch_page("INVESTIGATE"))
observeEvent(input$RECOGNITION_Unsure, switch_page("INVESTIGATE"))
observeEvent(input$HOW_Unsure, switch_page("INVESTIGATE"))
observeEvent(input$WHY_Data, switch_page("INVESTIGATE"))
observeEvent(input$ARCHSITE_Unsure, switch_page("CONSULT"))
observeEvent(input$REMAINS_No, switch_page("CONSULT"))
observeEvent(input$HOW_Else, switch_page("CONSULT"))
observeEvent(input$REMAINS_Yes, switch_page("RECONSIDER"))

observeEvent(input$STARTOVER, switch_page("LOCATION"))

```


